<div class="box" style="height: auto;">
  <div gdGap="10px" gdColumns="repeat(auto-fill, minmax(200px, 1fr))">
    <mat-card *ngFor="let course of courses">
      <mat-card-content>
        <img mat-card-image [src]="course.image_240x135" [alt]="course.title">
        {{course.title}}
      </mat-card-content>
      <mat-card-actions>
        <button mat-icon-button (click)="download(course)">
          <mat-icon>cloud_download</mat-icon>
        </button>
        <button mat-icon-button routerLink="/courses/{{course.id}}">
          <mat-icon>web_asset</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
<div class="box footer" *ngIf="progress">
  <mat-card>
    <mat-card-header>
      <img mat-card-avatar [src]="progress.image">
      <mat-card-title>{{progress.title}}</mat-card-title>
      <mat-card-subtitle>
        <mat-progress-bar *ngIf="progress.progress; else indeterminate;" mode="determinate" [value]="progress.progress.percentage"></mat-progress-bar>
        <span *ngIf="progress.progress">Downloaded {{progress.progress.currentFile}} from {{progress.progress.totalFiles}} lectures</span>
        <ng-template #indeterminate>
          <mat-progress-bar *ngIf="progress" mode="indeterminate"></mat-progress-bar>
        </ng-template>
      </mat-card-subtitle>
      <mat-card-actions *ngIf="progress.progress && progress.progress.isDone">
        <button mat-stroked-button (click)="progress = null">Close</button>
      </mat-card-actions>
    </mat-card-header>
  </mat-card>
</div>
